---
layout: wppost
title: Useful Properties of the Floor and Ceil Functions
author: Jan Marthedal Rasmussen
excerpt: ! "This articles explores some basic properties of the integer functions
  commonly known as floor and ceil. Most of the statements may seem trivial or obvious,
  but I, for one, have a tendency to forget just how exact you can be when it comes
  to expressions/equations where floor or ceil functions appear."
date: 2009-09-09 14:36:13.000000000 +02:00
categories:
- mathematics
tags:
- mathematics
- floor
- ceil
- discrete/continuous
---
<p>This articles explores some basic properties of the integer functions commonly known as floor and ceil. Most of the statements may seem trivial or obvious, but I, for one, have a tendency to forget just how exact you can be when it comes to expressions/equations where floor or ceil functions appear.</p>
<span></span>
<p>First, the definitions:</p>
<p>
\[
\begin{aligned}
\lfloor x \rfloor &#038;= \max \{ n \in \mathbb{Z} \mid n \leq x \} = \hbox{the greatest integer less than or equal to \(x\),} \\
\lceil  x \rceil  &#038;= \min \{ n \in \mathbb{Z} \mid n \geq x \} = \hbox{the least integer greater than or equal to \(x\),} \\
\end{aligned}
\]</p>
<p>for every real number \(x\).</p>
<h2>Equality</h2>
<p>What can we say about \(x\) and \(n\) if \(n=\lfloor x \rfloor\) or \(n=\lceil x \rceil\)? First of all, we obviously have \(n = x\) if and only if \(x\) is an integer. Let us now consider the floor function \(\lfloor \cdot \rfloor\). With \(x\) some real number we have \(\lfloor x \rfloor \leq x\), easily seen from the definition. Now let \(n=\lfloor x \rfloor\) and assume \(x-1 \geq n\) which is equivalent to \(n+1 \leq x\). But then \(n\) cannot be the greatest integer less than or equal to \(x\) so we have a contradiction. Since \(x\) was chosen arbitrarily we have \(x-1 < \lfloor x \rfloor\) for all \(x\). Similar considerations can be made for the ceil function \(\lceil \cdot \rceil\) and we get the important inequalities:</p>
<p>\[
x-1 \;<\; \lfloor x \rfloor \;\leq\; x \;\leq\; \lceil x \rceil \;<\; x+1.
\]</p>
<p>At the same time, we have the right-going implications of the following statements (\(x\) is a real number and \(n\) an integer):</p>
<p>\[
\begin{aligned}
n=\lfloor x \rfloor \quad &#038;\Longleftrightarrow \quad n \leq x < n+1, \\
n=\lfloor x \rfloor \quad &#038;\Longleftrightarrow \quad x-1 < n \leq x, \\
n=\lceil x \rceil   \quad &#038;\Longleftrightarrow \quad n-1 < x \leq n, \\
n=\lceil x \rceil   \quad &#038;\Longleftrightarrow \quad x \leq n < x+1. \\
\end{aligned}
\]</p>
<p>Let us show the fourth left-going implication. Assume \(x \leq n < x+1\) and set \(k=\lceil x \rceil\). We then have \(x \leq k < x+1\) from which we get \(n < x+1 \leq k+1\) and \(k < x+1 \leq n+1\), so \(n=k=\lceil x \rceil\). The remaining three left-going implication can be proved in much the same way.</p>
<p>From the statements above we can show some useful equalities:</p>
<p>\[
n=\lfloor -x \rfloor \;\Leftrightarrow\; -x-1 < n \leq -x \;\Leftrightarrow\; x \leq -n < x+1 \;\Leftrightarrow\; -n=\lceil x \rceil,
\]</p>
<p>so \(\lfloor -x \rfloor = -\lceil x \rceil\) for all \(x\), and</p>
<p>\[
\lfloor x \rfloor \leq x < \lfloor x \rfloor+1 \;\Leftrightarrow\; \lfloor x \rfloor + k \leq x+k < \lfloor x \rfloor + k+1 \;\Leftrightarrow\; \lfloor x \rfloor + k = \lfloor x+k \rfloor,
\]</p>
<p>so \(\lfloor x \rfloor + k = \lfloor x+k \rfloor\) for all integer \(k\). Naturally, the similar \(\lceil x \rceil + k = \lceil x+k \rceil\) also holds.</p>
<h2>Inequalities</h2>
<p>We now consider what can be said when inequalities are involved. Let \(x\) be some real number and \(n\) an integer. We then have the following:</p>
<p>\[
\begin{aligned}
x < n    \quad &#038;\Longleftrightarrow \quad \lfloor x \rfloor < n, \\
n < x    \quad &#038;\Longleftrightarrow \quad n < \lceil x \rceil, \\
x \leq n \quad &#038;\Longleftrightarrow \quad \lceil x \rceil \leq n, \\
n \leq x \quad &#038;\Longleftrightarrow \quad n \leq \lfloor x \rfloor.
\end{aligned}
\]</p>
<p>All we need to show these are \(\lfloor x \rfloor \leq x < \lfloor x \rfloor + 1\) and \(\lceil x \rceil - 1 < x \leq \lceil x \rceil\) from the previous section, and the fact that \(n < m+1\) is equivalent to \(n \leq m\) when \(m\) and \(n\) are integers. Consider, for instance, the third statement from above. If \(x \leq n\) then we have \(\lceil x \rceil - 1 < x \leq n\), which implies \(\lceil x \rceil \leq n\). On the other hand, if \(\lceil x \rceil \leq n\) then \(x \leq n\) because \(x \leq \lceil x \rceil\). The remaining statements are shown in a similar manner.</p>
<h2>Some Increasing Functions</h2>
<p>Certain functions have special properties when used together with floor and ceil. Such a function \(f: \mathbb{R} \rightarrow \mathbb{R}\) must be continuous and monotonically increasing and whenever \(f(x)\) is integer we must have that \(x\) is integer. An example could be \(f(x) = \sqrt{x}\). Note that being continuous and monotonically increasing ensures a well-defined inverse \(f^{-1}\). One of the requirements can then be formulated as \(f^{-1}(y)\) must be integer for all integer \(y\).</p>
<p>Using the results of the previous sections we get</p>
<p>\[
\begin{aligned}
k = \lfloor f( \lfloor x \rfloor ) \rfloor \quad &#038;\Leftrightarrow \quad k \leq f(\lfloor x \rfloor) < k+1
 \quad \Leftrightarrow \quad f^{-1}(k) \leq \lfloor x \rfloor < f^{-1}(k+1) \\
&#038;\Leftrightarrow \quad f^{-1}(k) \leq x < f^{-1}(k+1)
\quad \Leftrightarrow \quad k \leq f(x) < k+1 \\
&#038;\Leftrightarrow \quad \lfloor f(x) \rfloor = k.
\end{aligned}
\]</p>
<p>Similar derivations can be shown for \(\lceil \cdot \rceil\) and we have</p>
<p>\[
\lfloor f(x) \rfloor = \lfloor f(\lfloor x \rfloor) \rfloor \quad \hbox{and} \quad
\lceil f(x) \rceil = \lceil f(\lceil x \rceil) \rceil,
\]</p>
<p>for this class of functions. For \(f(x) = \sqrt{x}\) we thus have</p>
<p>\[
\left\lfloor \sqrt{x} \right\rfloor = \left\lfloor \sqrt{\lfloor x \rfloor} \right\rfloor
\quad \hbox{and} \quad
\left\lceil \sqrt{x} \right\rceil = \left\lceil \sqrt{\lceil x \rceil} \right\rceil.
\]</p>
<h2>Fractions</h2>
<p>The result of the previous section also applies to \(f(x) = (x + n)/m\) for integer \(m, n\) and \(m > 0\). The positivity of \(m\) ensures that \(f\) is monotonically increasing and \(f^{-1}(y) = m y &#8211; n\) is clearly integer for integer \(y\). We now have</p>
<p>\[
\left\lfloor \frac{x+n}{m} \right\rfloor = \left\lfloor \frac{\lfloor x \rfloor+n}{m} \right\rfloor
\quad \hbox{and} \quad
\left\lceil \frac{x+n}{m} \right\rceil = \left\lceil \frac{\lceil x \rceil+n}{m} \right\rceil.
\]</p>
<p>From these equalities we have the special cases</p>
<p>\[
\begin{aligned}
\left\lfloor \ldots \left\lfloor \lfloor x/a_1 \rfloor /a_2 \right\rfloor \ldots /a_k \right\rfloor
&#038;= \left\lfloor \frac{x}{a_1 a_2 \cdots a_k} \right\rfloor \hbox{ and} \\
\left\lceil \ldots \left\lceil \lceil x/a_1 \rceil /a_2 \right\rceil \ldots /a_k \right\rceil
&#038;= \left\lceil \frac{x}{a_1 a_2 \cdots a_k} \right\rceil,
\end{aligned}
\]</p>
<p>for integer and positive \(a_j\).</p>
<p>Let us now consider \(q = \lfloor n/m \rfloor\) for integer \(m, n\) and \(m > 0\). We get</p>
<p>\[
\begin{aligned}
q=\left\lfloor \frac{n}{m} \right\rfloor \;&#038;\Leftrightarrow\; \frac{n}{m}-1 < q \leq \frac{n}{m} \;\Leftrightarrow\; n-m < q m \leq n \;\Leftrightarrow\; q m \leq n < (q+1) m \\
 &#038;\Leftrightarrow\; q m \leq n \leq (q+1) m - 1,
\end{aligned}
\]</p>
<p>which provides an interval of integers for the numerator \(n\). Similarly for the ceil function,</p>
<p>\[
\begin{aligned}
q=\left\lceil \frac{n}{m} \right\rceil \;&#038;\Leftrightarrow\; \frac{n}{m} \leq q < \frac{n}{m}+1 \;\Leftrightarrow\; n \leq q m < n+m \;\Leftrightarrow\; (q-1) m < n \leq q m \\
 &#038;\Leftrightarrow\; (q-1) m+1 \leq n \leq q m.
\end{aligned}
\]</p>
<p>When applying floor or ceil to rational numbers, one can be derived from the other. Since \((q-1) m+1 \leq n \leq q m\) can be rewritten as \(q m \leq n+m-1 \leq (q+1) m &#8211; 1\) we get</p>
<p>\[
\left\lceil \frac{n}{m} \right\rceil = \left\lfloor \frac{n+m-1}{m} \right\rfloor,
\]</p>
<p>and similarly</p>
<p>\[
\left\lfloor \frac{n}{m} \right\rfloor = \left\lceil \frac{n-m+1}{m} \right\rceil.
\]</p>
<h2>Logarithms</h2>
<p>Let \(\log_b x\) be the logarithm of \(x\), base \(b\) (\(x > 0\), \(b > 0\), \(b \neq 1\)). We first set \(f(x) = \log_b x\) for integer \(b\), base \(2\) or \(10\) being the most common. Again, we can apply the theorem from earlier; \(f\) is continuous and monotonically increasing and \(f^{-1}(y) = b^y\) is integer for integer \(y\), so we have</p>
<p>\[
\left\lfloor \log_b x \right\rfloor = \left\lfloor \log_b \lfloor x \rfloor \right\rfloor
\quad \hbox{and} \quad
\left\lceil \log_b x \right\rceil = \left\lceil \log_b \lceil x \rceil \right\rceil,
\]</p>
<p>for integer \(b \geq 2\).</p>
<p>We conclude with some straightforward, but quite useful, statements:</p>
<p>\[
k = \lfloor \log_b x \rfloor \;\Leftrightarrow\; k \leq \log_b x < k+1 \;\Leftrightarrow\; b^k \leq x < b^{k+1}
\]</p>
<p>and</p>
<p>\[
k = \lceil \log_b x \rceil \;\Leftrightarrow\; k-1 < \log_b x \leq k \;\Leftrightarrow\; b^{k-1} < x \leq b^k,
\]
</p>
<p>for integer \(k\) and all \(b > 0\), \(b \neq 1\).</p>
<h2>References</h2>
<div style="float:right"><a href="{% amazon concrete %}"><img src="{% bookcover concrete %}" /></a></div>
<div style="float:right"><a href="{% amazon taocp1 %}"><img src="{% bookcover taocp1 %}" /></a></div>
<p>Most of the material presented in this article can be found in some form in <a href="http://www-cs-faculty.stanford.edu/~knuth/gkp.html">Concrete Mathematics</a> by <a href="http://math.ucsd.edu/~fan/ron/">R. L. Graham</a>, <a href="http://www-cs-faculty.stanford.edu/~knuth/">D. E. Knuth</a>, and <a href="http://en.wikipedia.org/wiki/Oren_Patashnik">O. Patashnik</a>, and in <a href="http://www-cs-faculty.stanford.edu/~knuth/taocp.html">The Art of Computer Programming</a>, Volume&nbsp;1, by <a href="http://www-cs-faculty.stanford.edu/~knuth/">Donald E. Knuth</a>.</p>
<p>The <a href="http://www.wikipedia.org">Wikipedia</a> page <a href="http://en.wikipedia.org/wiki/Floor_and_ceiling_functions">Floor and ceiling functions</a> furthermore lists a lot of properties (very few proofs or derivations, though).</p>
